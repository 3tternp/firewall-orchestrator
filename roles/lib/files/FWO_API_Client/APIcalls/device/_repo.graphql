query showManufacturers {
  stm_dev_typ {
    dev_typ_id
    dev_typ_manufacturer
    dev_typ_version
  }
}

#####################################

query showManagements {
  management {
    mgm_id
    mgm_name
  }
}

query showDevicesByManagement {
  management {
    mgm_name
    devices {
      dev_name
    }
  }
}

query showDevicesByManagementDetails {
  management {
    mgm_name
    devices {
      dev_name
      stm_dev_typ {
        dev_typ_name
        dev_typ_version
      }
    }
  }
}

#####################################

query showDevices {
  device {
    dev_id
    dev_name
    dev_rulebase
    management {
      mgm_id
      mgm_name
    }
  }
}

query showDevicesWithType {
  device {
    dev_id
    dev_name
    stm_dev_typ {
      dev_typ_name
      dev_typ_version
    }
  }
}

###################################

query showManufacturers {
  stm_dev_typ(order_by: { dev_typ_manufacturer: asc, dev_typ_version: asc }) {
    dev_typ_id
    dev_typ_manufacturer
    dev_typ_version
  }
}


#############################
## mutations
#############################


mutation newManagement(
  $dev_typ_id: Int!
  $mgm_name: String!
  $ssh_private_key: String!
) {
  insert_management(
    objects: {
      config_path: ""
      dev_typ_id: 10
      importer_hostname: ""
      mgm_name: "$mgm_name"
      ssh_hostname: ""
      ssh_private_key: ""
      ssh_user: ""
    }
  ) {
    affected_rows
  }
}
