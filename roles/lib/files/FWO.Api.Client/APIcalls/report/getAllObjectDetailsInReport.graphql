query getObjectsInReport(
  $mgmIds: [Int!]
  $ruleIds: [bigint!]!
  $importId: bigint
  $limit: Int
  $offset: Int
) {
  management(where: { mgm_id: { _in: $mgmIds }, stm_dev_typ:{dev_typ_is_multi_mgmt:{_eq:false}} }) {
    name: mgm_name
    id: mgm_id
    reportNetworkObjects: view_rule_nwobj_resolved_sorteds (
      limit: $limit
      offset: $offset
      where: {
        rule_id: { _in: $ruleIds }
        created: { _lte: $importId }
        _or: [{ removed: { _is_null: true } }, { removed: { _gt: $importId } }]
      }
      distinct_on: [obj_id]
    ) {
      object {
        ...networkObjectDetails
      }
    }
    reportServiceObjects: view_rule_svc_resolved_sorteds (
      limit: $limit
      offset: $offset
      where: {
        rule_id: { _in: $ruleIds }
        created: { _lte: $importId }
        _or: [{ removed: { _is_null: true } }, { removed: { _gt: $importId } }]
      }
      distinct_on: [svc_id]
    ) {
      service {
        ...networkServiceDetails
      }
    }
    reportUserObjects: view_rule_user_resolved_sorteds (
      limit: $limit
      offset: $offset
      where: {
        rule_id: { _in: $ruleIds }
        created: { _lte: $importId }
        _or: [{ removed: { _is_null: true } }, { removed: { _gt: $importId } }]
      }
      distinct_on: [user_id]
    ) {
      usr {
        ...userDetails
      }
    }
  }
}
