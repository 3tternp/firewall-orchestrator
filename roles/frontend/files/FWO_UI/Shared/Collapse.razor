@using System.Diagnostics;

<div class="w-100 card">
    <div class="btn-group w-100">
        <button class="btn btn-sm btn-@Style" @onclick="ToggleCollapse"> <span class="oi oi-@(show == ".show" ? "collapse-up" : "collapse-down")"></span> </button>
        <button class="btn btn-sm btn-block btn-@Style disabled" @ondblclick="ToggleCollapse" >@Title</button>
    </div>
    <div class="@($"collapse{show}") p-2">
        @ChildContent
    </div>
</div>

@code
{
    [Parameter]
    public RenderFragment ChildContent { get; set; }

    [Parameter]
    public string Title { get; set; }

    private bool startToggled;

    [Parameter]
    public bool StartToggled
    {
        get
        {
            return startToggled;
        }
        set
        {
            show = value ? "" : ".show";
        }
    }

    [Parameter]
    public string Style { get; set; } = "secondary";

    private string show = ".show";

    private void ToggleCollapse()
    {
        show = show == "" ? ".show" : "";
    }
}
