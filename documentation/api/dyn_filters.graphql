query filter_dyn($manufacturer_id: [Int!]) {
  __typename
  stm_dev_typ(where: {dev_typ_id: {_in: $manufacturer_id}}) {
    dev_typ_name
    dev_typ_version
    dev_typ_id
  }
}

query filter_dyn($management_id: [Int!], $device_id: [Int!]) {
  __typename
    management(where: {mgm_id: {_in: $management_id}}) {
      mgm_id
      mgm_name
      devices(where: {dev_id: {_in: $device_id}}) {
        dev_id
        dev_name
      }
    }
  }

query filter_dyn($manufacturer_id: [Int!]!, $management_id: [Int!]!) {
  __typename
  stm_dev_typ(where: {dev_typ_id: {_in: $manufacturer_id}}) {
    dev_typ_name
    dev_typ_version
    dev_typ_id
    management(where: {mgm_id: {_in: $management_id}}) {
      mgm_id
      mgm_name
    }
  }
}

# query returning a flat list of all device_types matching triple filter:
query filter_dyn_device_type($manufacturer_id: [Int!], $management_id: [Int!], $device_id: [Int!]) {
  stm_dev_typ(where: {_and: {dev_typ_id: {_in: $manufacturer_id}, devices: {dev_id: {_in: $device_id}}, management: {mgm_id:{_in: $management_id}}}}) {
    dev_typ_id
    dev_typ_name
  }
}


# query returning a flat list of all managements matching triple filter:
query filter_dyn_management($manufacturer_id: [Int!], $management_id: [Int!], $device_id: [Int!]) {
  management(where: {_and: {mgm_id: {_in: $management_id}, dev_typ_id:{_in: $manufacturer_id}, devices: {dev_id: {_in: $device_id}}}}) {
    mgm_id
    mgm_name
  }
}

# query returning a flat list of all devices matching triple filter:
query filter_dyn_device($manufacturer_id: [Int!], $management_id: [Int!], $device_id: [Int!]) {
  device(where: {_and: {mgm_id: {_in: $management_id}, dev_typ_id: {_in: $manufacturer_id}, dev_id: {_in: $device_id}}}) {
    dev_id
    dev_name
  }
}

# query returning a multi-level structure with all data matching triple filter:
query filter_dyn($manufacturer_id: [Int!], $management_id: [Int!], $device_id: [Int!]) {
  __typename
  stm_dev_typ(where: {dev_typ_id: {_in: $manufacturer_id}}) {
    dev_typ_name
    dev_typ_version
    dev_typ_id
    management(where: {mgm_id: {_in: $management_id}}) {
      mgm_id
      mgm_name
      devices(where: {dev_id: {_in: $device_id}}) {
        dev_id
        dev_name
      }
    }
  }
}
